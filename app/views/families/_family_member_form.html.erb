<div class="container mt-5">
  <% if @family %>
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white">
        <h3 class="text-center mb-0">Add a New Family Member</h3>
      </div>
      <div class="card-body">
        <%= form_with model: @new_member, url: create_member_family_path(@family), local: true, class: "needs-validation" do |f| %>
          <div class="row mb-3">
            <div class="col-md-6">
              <%= f.label :username, "Username", class: "form-label" %>
              <%= f.text_field :username, placeholder: "Enter username", class: "form-control", required: true %>
            </div>
            <div class="col-md-6">
              <%= f.label :role_id, "Select Role", class: "form-label" %>
              <%= f.collection_select :role_id, Role.all, :id, :name, { prompt: "Choose Role" }, class: "form-select", required: true %>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <%= f.label :first_name, "First Name", class: "form-label" %>
              <%= f.text_field :first_name, placeholder: "Enter first name", class: "form-control", required: true %>
            </div>
            <div class="col-md-6">
              <%= f.label :last_name, "Last Name", class: "form-label" %>
              <%= f.text_field :last_name, placeholder: "Enter last name", class: "form-control", required: true %>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <%= f.label :email, "Email", class: "form-label" %>
              <%= f.email_field :email, placeholder: "Enter email", class: "form-control", required: true %>
            </div>
            <div class="col-md-6">
              <%= f.label :birthdate, "Birthdate", class: "form-label" %>
              <%= f.date_field :birthdate, class: "form-control", required: true %>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <%= f.label :password, "Password", class: "form-label" %>
              <%= f.password_field :password, placeholder: "Enter password", class: "form-control", required: true %>
            </div>
            <div class="col-md-6">
              <%= f.label :password_confirmation, "Confirm Password", class: "form-label" %>
              <%= f.password_field :password_confirmation, placeholder: "Confirm password", class: "form-control", required: true %>
            </div>
          </div>
          <div class="d-grid">
            <%= f.submit "Add Member", class: "btn btn-primary btn-lg" %>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="alert alert-warning text-center mt-4">
      <p class="mb-0">You don't have a family yet. <%= link_to "Create One", new_family_path, class: "btn btn-outline-primary btn-sm" %>.</p>
    </div>
  <% end %>
</div>
